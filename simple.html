<!DOCTYPE html>
<html>
    <head>
        <title>Leaflet.loading example&mdash;simple</title>


        <!-- Include Leaflet -->
        <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.3/leaflet.css" />
        <!--[if lte IE 8]>
            <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.3/leaflet.ie.css" />
        <![endif]-->
        <script src="http://cdn.leafletjs.com/leaflet-0.6.3/leaflet.js"></script>


        <!-- Include the loading control -->
        <link rel="stylesheet" href="https://rawgithub.com/ebrelsford/Leaflet.loading/master/src/Control.Loading.css" />
        <script src="https://rawgithub.com/ebrelsford/Leaflet.loading/master/src/Control.Loading.js"></script>

        <style>

            .leaflet-control-loading {
                background: url(loading.gif);
            }

        </style>
    </head>
    <body>

        <div id="map" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>

        <script>
            var cloudmadeKey = '781b27aa166a49e1a398cd9b38a81cdf',
                cloudmadeStyle = '96818',
                cloudmadeUrl = 'http://{s}.tile.cloudmade.com/' + cloudmadeKey + 
                    '/' + cloudmadeStyle + '/256/{z}/{x}/{y}.png',
                cloudmade = new L.TileLayer(cloudmadeUrl, {maxZoom: 18}),

                map = new L.Map('map', {
                    layers: [cloudmade],
                    center: new L.LatLng(40.65,-73.95),
                    zoom: 12,

                    // Tell the map to use a loading control
                    loadingControl: true
                });
        </script>
    </body>
</html>
